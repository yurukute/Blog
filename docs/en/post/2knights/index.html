<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Two Knights | Noob&#39;s Blog</title>
<meta name="keywords" content="Maths" />
<meta name="description" content="Problem Source: CSES Your task is to count for $k=1,2,â€¦,n$ the number of ways two knights can be placed on a $k \times k$ chessboard so that they do not attack each other.
For example:
Input: 8 Output: 0 6 28 96 252 550 1056 1848 Solution Idea The most reachable method is for each of the first knight&rsquo;s position, i&rsquo;m looking for pertinent positions to place the second knight and sum them all.">
<meta name="author" content="">
<link rel="canonical" href="https://yurukute.github.io/Blog/en/post/2knights/" />
<link crossorigin="anonymous" href="/Blog/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/Blog/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://yurukute.github.io/Blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://yurukute.github.io/Blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://yurukute.github.io/Blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://yurukute.github.io/Blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://yurukute.github.io/Blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.89.4" />
<link rel="alternate" hreflang="vi" href="https://yurukute.github.io/Blog/post/2knights/" />
<link rel="alternate" hreflang="en" href="https://yurukute.github.io/Blog/en/post/2knights/" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };

    window.addEventListener('load', (event) => {
        document.querySelectorAll("mjx-container").forEach(function(x){
          x.parentElement.classList += 'has-jax'})
      });

  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



<meta property="og:title" content="Two Knights" />
<meta property="og:description" content="Problem Source: CSES Your task is to count for $k=1,2,â€¦,n$ the number of ways two knights can be placed on a $k \times k$ chessboard so that they do not attack each other.
For example:
Input: 8 Output: 0 6 28 96 252 550 1056 1848 Solution Idea The most reachable method is for each of the first knight&rsquo;s position, i&rsquo;m looking for pertinent positions to place the second knight and sum them all." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yurukute.github.io/Blog/en/post/2knights/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-05-27T20:37:44&#43;07:00" />
<meta property="article:modified_time" content="2021-05-27T20:37:44&#43;07:00" /><meta property="og:site_name" content="Noob&#39;s Blog" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Two Knights"/>
<meta name="twitter:description" content="Problem Source: CSES Your task is to count for $k=1,2,â€¦,n$ the number of ways two knights can be placed on a $k \times k$ chessboard so that they do not attack each other.
For example:
Input: 8 Output: 0 6 28 96 252 550 1056 1848 Solution Idea The most reachable method is for each of the first knight&rsquo;s position, i&rsquo;m looking for pertinent positions to place the second knight and sum them all."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://yurukute.github.io/Blog/en/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Two Knights",
      "item": "https://yurukute.github.io/Blog/en/post/2knights/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Two Knights",
  "name": "Two Knights",
  "description": "Problem Source: CSES Your task is to count for $k=1,2,â€¦,n$ the number of ways two knights can be placed on a $k \\times k$ chessboard so that they do not attack each other.\nFor example:\nInput: 8 Output: 0 6 28 96 252 550 1056 1848 Solution Idea The most reachable method is for each of the first knight\u0026rsquo;s position, i\u0026rsquo;m looking for pertinent positions to place the second knight and sum them all.",
  "keywords": [
    "Maths"
  ],
  "articleBody": "Problem Source: CSES Your task is to count for $k=1,2,â€¦,n$ the number of ways two knights can be placed on a $k \\times k$ chessboard so that they do not attack each other.\nFor example:\nInput: 8 Output: 0 6 28 96 252 550 1056 1848 Solution Idea The most reachable method is for each of the first knightâ€™s position, iâ€™m looking for pertinent positions to place the second knight and sum them all. Itâ€™s kinda reckless to create nested loops so iâ€™ll need a smarter way ðŸ‘€\nInstead of finding the answer directly, I can indirectly find it by subtract the number of ways two knights can be placed to attack each other from total ways to place two knights.\nThe total ways to place two knights is: $$C^2_{k^2} = \\frac{k^2!}{2!(k^2-2)!} = \\frac{k^2(k^2-1)(k^2-2)!}{2(k^2-2)!} = \\frac{k^2(k^2-1)}{2}$$ Noticed that, the knights can attack each other when they form a diagonal line of a $2 \\times 3$ (horizontal) or $3 \\times 2$ (vertical) rectangle. A chessboard is a square board so the number of $2 \\times 3$ are the same as $3 \\times 2$, so that i just have to count one kind of those two and duplicate the result.\nHere are the steps:\n Start from top left, imagine iâ€™m having a $2 \\times 3$ rectangle there. Shift 1 square to right to find how many times i can shift it to the right. Because iâ€™m not allowed to let 2 columns of the rectangle move out of the chessboard so i can shift it $k-2$ times. Similarly, shifting it to bottom and finding how many times i can shift it. There are $k-1$ times since i canâ€™t let the last row move out of the chessboard. Finally, multiply them and duplicate the answer. $$2(k-1)(k-2)$$  Moreover, there are two diagonal lines in a rectangle, that means there are two ways the knights can attack each other in each case. Thus, number of ways two knights can be placed to attack each other is: $$4(k-1)(k-2)$$\nIn the end, the result of this problem is: $$\\frac{k^2(k^2-1)}{2} - 4(k-1)(k-2)$$\nCode #include int main(){ int n; std::cin  n; for(long long i = 1; i  n; i++){ std::cout  i*i*(i*i - 1)/2 - 4*(i-1)*(i-2)  \"\\n\"; } } Thank you for reading ðŸ‘€\n",
  "wordCount" : "378",
  "inLanguage": "en",
  "datePublished": "2021-05-27T20:37:44+07:00",
  "dateModified": "2021-05-27T20:37:44+07:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://yurukute.github.io/Blog/en/post/2knights/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Noob's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://yurukute.github.io/Blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://yurukute.github.io/Blog/en/" accesskey="h" title="Noob&#39;s Blog (Alt + H)">Noob&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://yurukute.github.io/Blog/" title="Tiáº¿ng Viá»‡t"
                            aria-label="Tiáº¿ng Viá»‡t">Vi</a>
                    </li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://yurukute.github.io/Blog/en/archive/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://yurukute.github.io/Blog/en/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://yurukute.github.io/Blog/en/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Two Knights
    </h1>
    <div class="post-meta"><span title='2021-05-27 20:37:44 +0700 +07'>May 27, 2021</span>&nbsp;|&nbsp;
<ul class="i18n_list">Translations:
    <li>
        <a href="https://yurukute.github.io/Blog/post/2knights/">Vi</a>
    </li>
</ul>

</div>
  </header> 
  <div class="post-content"><h2 id="problem">Problem<a hidden class="anchor" aria-hidden="true" href="#problem">#</a></h2>
<p>Source: <a href="https://cses.fi/problemset/task/1072" target="_blank">CSES</a>
</p>
<p>Your task is to count for $k=1,2,â€¦,n$ the number of ways two knights can be placed on a $k \times k$ chessboard so that they do not attack each other.</p>
<p>For example:</p>
<pre tabindex="0"><code>Input: 8
Output: 0
        6
        28
        96
        252
        550
        1056
        1848
</code></pre><h2 id="solution">Solution<a hidden class="anchor" aria-hidden="true" href="#solution">#</a></h2>
<h3 id="idea">Idea<a hidden class="anchor" aria-hidden="true" href="#idea">#</a></h3>
<p>The most reachable method is for each of the first knight&rsquo;s position, i&rsquo;m looking for pertinent positions to place the second knight and sum them all. It&rsquo;s kinda reckless to create nested loops so i&rsquo;ll need a smarter way ðŸ‘€</p>
<p>Instead of finding the answer directly, I can indirectly find it by subtract the <code>number of ways two knights can be placed to attack each other</code> from <code>total ways to place two knights</code>.</p>
<p>The <code>total ways to place two knights</code> is:
$$C^2_{k^2} = \frac{k^2!}{2!(k^2-2)!} = \frac{k^2(k^2-1)(k^2-2)!}{2(k^2-2)!} = \frac{k^2(k^2-1)}{2}$$
Noticed that, the knights can attack each other when they form a  diagonal line of a $2 \times 3$ (horizontal) or $3 \times 2$ (vertical) rectangle. A chessboard is a square board so the number of $2 \times 3$ are the same as $3 \times 2$, so that i just have to count one kind of those two and duplicate the result.</p>
<p>Here are the steps:</p>
<ul>
<li>Start from top left, imagine i&rsquo;m having a $2 \times 3$ rectangle there.</li>
<li>Shift 1 square to right to find how many times i can shift it to the right. Because i&rsquo;m not allowed to let 2 columns of the rectangle move out of the chessboard so i can shift it $k-2$ times.</li>
<li>Similarly, shifting it to bottom and finding how many times i can shift it. There are $k-1$ times since i can&rsquo;t let the last row move out of the chessboard.</li>
<li>Finally, multiply them and duplicate the answer.
$$2(k-1)(k-2)$$</li>
</ul>
<p>Moreover, there are two diagonal lines in a rectangle, that means there are two ways the knights can attack each other in each case. Thus, <code>number of ways two knights can be placed to attack each other</code> is:
$$4(k-1)(k-2)$$</p>
<p>In the end, the result of this problem is:
$$\frac{k^2(k^2-1)}{2} - 4(k-1)(k-2)$$</p>
<h3 id="code">Code<a hidden class="anchor" aria-hidden="true" href="#code">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
	<span style="color:#66d9ef">int</span> n;
	std<span style="color:#f92672">::</span>cin <span style="color:#f92672">&gt;&gt;</span> n;
	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>){
		std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> i<span style="color:#f92672">*</span>i<span style="color:#f92672">*</span>(i<span style="color:#f92672">*</span>i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">*</span>(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span>(i<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
	}
}
</code></pre></div><p>Thank you for reading ðŸ‘€</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://yurukute.github.io/Blog/en/tags/maths/">Maths</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://yurukute.github.io/Blog/en/post/romannumeral/">
    <span class="title">Â« Prev Page</span>
    <br>
    <span>Roman Numerals Helper</span>
  </a>
  <a class="next" href="https://yurukute.github.io/Blog/en/post/lis/">
    <span class="title">Next Page Â»</span>
    <br>
    <span>Longest increasing subsequence</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="https://yurukute.github.io/Blog/en/">Noob&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
