<!DOCTYPE html>
<html lang="vi" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Xâu con chung dài nhất | Blog của Noob</title>

<meta name="keywords" content="Quy hoạch động, Quay lui" />
<meta name="description" content="Bài toán Nguồn: Codewars Đọc hiểu Theo Wikipedia :
 Bài toán xâu con chung dài nhất là bài toán tìm một xâu có độ dài lớn nhất và là xâu con của mọi xâu trong một tập hợp các xâu. Khác với chuỗi con, các phần tử của xâu con không nhất thiết phải liên tiếp nhau.
 Với 2 chuỗi được nhập vào, nhiệm vụ của bạn chính là tìm ra xâu con dài nhất của chúng.">
<meta name="author" content="">
<link rel="canonical" href="https://yurukute.github.io/Blog/post/lcs/" />
<link href="/Blog/assets/css/stylesheet.min.499f27d846821e4c8ac28c591121a2648deef86387d10dbc0346521d2e6dc139.css" integrity="sha256-SZ8n2EaCHkyKwoxZESGiZI3u&#43;GOH0Q28A0ZSHS5twTk=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://yurukute.github.io/Blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://yurukute.github.io/Blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://yurukute.github.io/Blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://yurukute.github.io/Blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://yurukute.github.io/Blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.81.0" />
<link rel="alternate" hreflang="vi" href="https://yurukute.github.io/Blog/post/lcs/" />
<link rel="alternate" hreflang="en" href="https://yurukute.github.io/Blog/en/post/lcs/" />


<meta property="og:title" content="Xâu con chung dài nhất" />
<meta property="og:description" content="Bài toán Nguồn: Codewars Đọc hiểu Theo Wikipedia :
 Bài toán xâu con chung dài nhất là bài toán tìm một xâu có độ dài lớn nhất và là xâu con của mọi xâu trong một tập hợp các xâu. Khác với chuỗi con, các phần tử của xâu con không nhất thiết phải liên tiếp nhau.
 Với 2 chuỗi được nhập vào, nhiệm vụ của bạn chính là tìm ra xâu con dài nhất của chúng." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yurukute.github.io/Blog/post/lcs/" />
<meta property="article:published_time" content="2021-02-17T20:36:47+07:00" />
<meta property="article:modified_time" content="2021-02-17T20:36:47+07:00" /><meta property="og:site_name" content="Blog của Noob" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Xâu con chung dài nhất"/>
<meta name="twitter:description" content="Bài toán Nguồn: Codewars Đọc hiểu Theo Wikipedia :
 Bài toán xâu con chung dài nhất là bài toán tìm một xâu có độ dài lớn nhất và là xâu con của mọi xâu trong một tập hợp các xâu. Khác với chuỗi con, các phần tử của xâu con không nhất thiết phải liên tiếp nhau.
 Với 2 chuỗi được nhập vào, nhiệm vụ của bạn chính là tìm ra xâu con dài nhất của chúng."/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Xâu con chung dài nhất",
  "name": "Xâu con chung dài nhất",
  "description": "Bài toán Nguồn: Codewars Đọc hiểu Theo Wikipedia :\n Bài toán xâu con chung dài nhất là bài toán tìm một xâu có độ dài lớn nhất và là xâu con của mọi xâu trong một tập hợp các xâu. …",
  "keywords": [
    "Quy hoạch động", "Quay lui"
  ],
  "articleBody": "Bài toán Nguồn: Codewars Đọc hiểu Theo Wikipedia :\n Bài toán xâu con chung dài nhất là bài toán tìm một xâu có độ dài lớn nhất và là xâu con của mọi xâu trong một tập hợp các xâu. Khác với chuỗi con, các phần tử của xâu con không nhất thiết phải liên tiếp nhau.\n Với 2 chuỗi được nhập vào, nhiệm vụ của bạn chính là tìm ra xâu con dài nhất của chúng.\nVí dụ:\nInput: \"ab\" \"azb\" Output: \"ab\" Lời giải Mình giải bài này theo 2 bước:\n Tìm độ dài của xâu con bằng quy hoạch động. Sừ dụng bảng quy hoạch động để quay lui tìm xâu con.  Bước 1: Cho lcs(\"aab\", \"azb\") là hàm tìm xâu con dài nhất (bài toán lớn). Quy trình của nó có thể được mô tả như sau:\n Xét thấy kí tự cuối cùng của 2 xâu là giống nhau:  Độ dài của xâu con tăng thêm một. Đưa bài toán về lcs(\"aa\", \"az\").   Xét 2 xâu mới, kí tự cuối cùng của 2 xâu không giống nhau:  Lần lượt bỏ kí tự cuối ở mỗi xâu và tìm xâu con lớn nhất giữa chúng. max(lcs(\"a\", \"az\"), lcs(\"aa\", \"a\")    graph TD; A(\"lcs(aab, azb)\")--B((1)) A--C(\"lcs(aa, az)\") C--D(\"max(lcs(a, az), lcs(aa, a)\") D--E(\"lcs(a,az)\") D--F(\"lcs(aa, a)\") E--G(\"max(lcs(a, a), lcs(``, az)\") F--H((1)) F--I(\"lcs(a, ``)\") G--J(\"lcs(a, a)\")--L((1)) G--K(\"lcs(``, az)\")--M((0)) I--N((0))  Gọi dp[i][j] là độ dài lớn nhất của xâu con từ $i$ phần tử đầu tiên của xâu $x$ và $j$ phần tử đầu tiên của xâu $y$, như vậy: $$dp[i][j]= \\begin{cases} 1 + dp[i-1][j-1] \u0026 x[i] = y[j]\\\\\nmax(dp[i-1][j],\\ dp[i][j-1]) \u0026 x[i] \\ne y[j] \\end{cases} $$\nint n = x.length(), m = y.length(); vectorvectorint dp(n+1, vector(m+1, 0)); for(int i = 1; i  n; i++) for(int j = 1; j  m; j++) if(x[i-1] == y[j-1]) dp[i][j] = 1 + dp[i-1][j-1]; else dp[i][j] = (dp[i-1][j]  dp[i][j-1] ? dp[i-1][j] : dp[i][j-1]); Bảng quy hoạch động của mình sẽ trông như thế này\n    \"\" a z b     \"\" 0 0 0 0   a 0 1 1 1   a 0 1 1 1   b 0 1 1 2    Bước 2: Để ý rằng, tại những ô mà ô phía trên và ô bên trái của nó có giá trị nhỏ hơn thì cột (hoặc hàng) của ô đó đại diện cho kí tự chung. Để tìm được xâu con chung, mình bắt từ ô cuối cùng (dp[n][m]), lùi dần lên (hoặc sang trái) cho đến khi gặp ô như mình đã nói, lưu lại kí tự chung, sau đó nhảy sang ô ở hàng trên và cột bên trái của nó (dp[i-1][j-1]) để dò tiếp.\nstring res = \"\"; while(dp[n][m] != 0){ while(dp[n][m] == dp[n-1][m]){ n--; } while(dp[n][m] == dp[n][m-1]){ m--; } res.insert(res.begin(), x[n-1]); n--; m--; } return res; Cảm ơn bạn vì đã đọc.\n",
  "wordCount" : "471",
  "inLanguage": "vi",
  "datePublished": "2021-02-17T20:36:47+07:00",
  "dateModified": "2021-02-17T20:36:47+07:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://yurukute.github.io/Blog/post/lcs/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Blog của Noob",
    "logo": {
      "@type": "ImageObject",
      "url": "https://yurukute.github.io/Blog/favicon.ico"
    }
  }
}
</script>



</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://yurukute.github.io/Blog/" accesskey="h" title="Blog của Noob (Alt + H)">Blog của Noob</a>
            <span class="logo-switches">
                <a id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </a>
                
                

                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://yurukute.github.io/Blog/en/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </span>
        </div>
        <ul id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://yurukute.github.io/Blog/archive" title="Lưu trữ">
                    <span>Lưu trữ</span>
                </a>
            </li>
            <li>
                <a href="https://yurukute.github.io/Blog/search" title="Tìm kiếm">
                    <span>Tìm kiếm</span>
                </a>
            </li>
            <li>
                <a href="https://yurukute.github.io/Blog/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li></ul>
    </nav>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  
    window.addEventListener('load', (event) => {
        document.querySelectorAll("mjx-container").forEach(function(x){
          x.parentElement.classList += 'has-jax'})
      });
  
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
<script async src="https://unpkg.com/mermaid@latest/dist/mermaid.min.js"></script>

</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      Xâu con chung dài nhất
    </h1>
    <div class="post-meta">February 17, 2021
&nbsp;|&nbsp;<ul class="i18n_list">Bản dịch:
        <li>
          <a href="https://yurukute.github.io/Blog/en/post/lcs/">En</a>
        </li>
      </ul>
    </div>
  </header> 

  <div class="post-content">
<h2 id="bài-toán">Bài toán<a hidden class="anchor" aria-hidden="true" href="#bài-toán">#</a></h2>
<p>Nguồn: <a href="https://www.codewars.com/kata/593ff8b39e1cc4bae9000070" target="_blank">Codewars</a>
</p>
<h3 id="đọc-hiểu">Đọc hiểu<a hidden class="anchor" aria-hidden="true" href="#đọc-hiểu">#</a></h3>
<p>Theo <a href="https://en.wikipedia.org/wiki/Longest_common_subsequence_problem" target="_blank">Wikipedia</a>
:</p>
<blockquote>
<p>Bài toán xâu con chung dài nhất là bài toán tìm một xâu có độ dài lớn nhất và là xâu con của mọi xâu trong  một tập hợp các xâu. Khác với chuỗi con, các phần tử của xâu con không nhất thiết phải liên tiếp nhau.</p>
</blockquote>
<p>Với 2 chuỗi được nhập vào, nhiệm vụ của bạn chính là tìm ra xâu con dài nhất của chúng.</p>
<p>Ví dụ:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Input:  <span style="color:#e6db74">&#34;ab&#34;</span> <span style="color:#e6db74">&#34;azb&#34;</span>
Output: <span style="color:#e6db74">&#34;ab&#34;</span>
</code></pre></div><h2 id="lời-giải">Lời giải<a hidden class="anchor" aria-hidden="true" href="#lời-giải">#</a></h2>
<p>Mình giải bài này theo 2 bước:</p>
<ul>
<li>Tìm độ dài của xâu con bằng quy hoạch động.</li>
<li>Sừ dụng bảng quy hoạch động để quay lui tìm xâu con.</li>
</ul>
<h3 id="bước-1">Bước 1:<a hidden class="anchor" aria-hidden="true" href="#bước-1">#</a></h3>
<p>Cho <code>lcs(&quot;aab&quot;, &quot;azb&quot;)</code> là hàm tìm xâu con dài nhất (bài toán lớn). Quy trình của nó có thể được mô tả như sau:</p>
<ul>
<li>Xét thấy kí tự cuối cùng của 2 xâu là giống nhau:
<ul>
<li>Độ dài của xâu con tăng thêm một.</li>
<li>Đưa bài toán về <code>lcs(&quot;aa&quot;, &quot;az&quot;)</code>.</li>
</ul>
</li>
<li>Xét 2 xâu mới, kí tự cuối cùng của 2 xâu không giống nhau:
<ul>
<li>Lần lượt bỏ kí tự cuối ở mỗi xâu và tìm xâu con lớn nhất giữa chúng.  <code>max(lcs(&quot;a&quot;, &quot;az&quot;), lcs(&quot;aa&quot;, &quot;a&quot;)</code></li>
</ul>
</li>
</ul>

<div class="mermaid" align="center">
graph TD;
    A("lcs(aab, azb)")-->B((1))
    A-->C("lcs(aa, az)")
    C-->D("max(lcs(a, az), lcs(aa, a)")
    D-->E("lcs(a,az)")
    D-->F("lcs(aa, a)")
    E-->G("max(lcs(a, a), lcs(``, az)")
    F-->H((1))
    F-->I("lcs(a, ``)")
    G-->J("lcs(a, a)")-->L((1))
    G-->K("lcs(``, az)")-->M((0))
    I-->N((0))
</div>
<p>Gọi <code>dp[i][j]</code> là độ dài lớn nhất của xâu con từ $i$ phần tử đầu tiên của xâu $x$ và $j$ phần tử đầu tiên của xâu $y$, như vậy:
$$dp[i][j]=
\begin{cases}
1 + dp[i-1][j-1]            &amp; x[i] = y[j]\\<br>
max(dp[i-1][j],\ dp[i][j-1]) &amp; x[i] \ne y[j]
\end{cases}
$$</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> x.length(), m <span style="color:#f92672">=</span> y.length();
vector<span style="color:#f92672">&lt;</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&gt;</span> dp(n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, vector(m<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>));
<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>)
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;=</span> m; j<span style="color:#f92672">++</span>)
        <span style="color:#66d9ef">if</span>(x[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> y[j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])
            dp[i][j] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> dp[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
        <span style="color:#66d9ef">else</span>
            dp[i][j] <span style="color:#f92672">=</span> (dp[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j] <span style="color:#f92672">&gt;</span> dp[i][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">?</span> dp[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j] <span style="color:#f92672">:</span> dp[i][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
</code></pre></div><p>Bảng quy hoạch động của mình sẽ trông như thế này</p>
<table>
<thead>
<tr>
<th></th>
<th>&quot;&quot;</th>
<th>a</th>
<th>z</th>
<th>b</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>&quot;&quot;</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>a</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>a</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><strong>b</strong></td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3 id="bước-2">Bước 2:<a hidden class="anchor" aria-hidden="true" href="#bước-2">#</a></h3>
<p>Để ý rằng, tại những ô mà ô phía trên và ô bên trái của nó có giá trị nhỏ hơn thì cột (hoặc hàng) của ô đó đại diện cho kí tự chung. Để tìm được xâu con chung, mình bắt từ ô cuối cùng (<code>dp[n][m]</code>), lùi dần lên (hoặc sang trái) cho đến khi gặp ô như mình đã nói, lưu lại kí tự chung, sau đó nhảy sang ô ở hàng trên và cột bên trái của nó (<code>dp[i-1][j-1]</code>) để dò tiếp.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">string res <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
<span style="color:#66d9ef">while</span>(dp[n][m] <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>){
    <span style="color:#66d9ef">while</span>(dp[n][m] <span style="color:#f92672">==</span> dp[n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][m]){
        n<span style="color:#f92672">--</span>;
    }
    <span style="color:#66d9ef">while</span>(dp[n][m] <span style="color:#f92672">==</span> dp[n][m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]){
        m<span style="color:#f92672">--</span>;
    }
    res.insert(res.begin(), x[n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
    n<span style="color:#f92672">--</span>;
    m<span style="color:#f92672">--</span>;
}
<span style="color:#66d9ef">return</span> res;
</code></pre></div><p>Cảm ơn bạn vì đã đọc.</p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://yurukute.github.io/Blog/tags/quy-ho%E1%BA%A1ch-%C4%91%E1%BB%99ng/">Quy hoạch động</a></li>
      <li><a href="https://yurukute.github.io/Blog/tags/quay-lui/">Quay lui</a></li>
    </ul>
    <nav class="paginav">
      <a class="prev" href="https://yurukute.github.io/Blog/post/explosivesum/">
        <span class="title">« Bài viết trước</span>
        <br>
        <span>Tổng số cách phân tích n</span>
      </a>
      <a class="next" href="https://yurukute.github.io/Blog/post/lis/">
        <span class="title">Bài viết sau »</span>
        <br>
        <span>Dãy con tăng đơn điệu dài nhất</span>
      </a>
    </nav>
  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; 2021 <a href="https://yurukute.github.io/Blog/">Blog của Noob</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>



<script defer src="/Blog/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
